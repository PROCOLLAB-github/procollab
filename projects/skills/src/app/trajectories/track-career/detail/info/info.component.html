<!-- @format -->

<div class="trajectory__infoItem">
  <div class="trajectory">
    <div class="trajectory__cover">
      <p class="trajectory__title">{{ trajectory.name }}</p>
      <img alt="cover image" [src]="trajectory.avatar ? trajectory.avatar : placeholderUrl" />
    </div>

    <div class="trajectory__info">
      <div class="trajectory__timeline">
        <p class="timeline__start timeline__date text-body-14">{{ userTrajectory.startDate }}</p>
        <app-month-block [months]="mockMonts" [hasNext]="false"></app-month-block>
        <p class="timeline__end timeline__date text-body-14">{{ userTrajectory.endDate }}</p>
      </div>

      <div class="trajectory__mentor">
        <div class="mentor__info">
          <app-avatar
            [url]="userTrajectory.mentorAvatar ? userTrajectory.mentorAvatar! : placeholderUrl"
            [size]="46"
          ></app-avatar>
          <div class="mentor">
            <p class="text-heading-4">
              {{ userTrajectory.mentorFirstName }} {{ userTrajectory.mentorLastName }}
            </p>
            <p class="text-body-12 mentor__years">2 года опыта преподавания</p>
          </div>
        </div>
        <a
          [href]="
            'https://app.procollab.ru/office/chats/' + profileId! + '_' + trajectory.mentors[0]
          "
        >
          <app-button customTypographyClass="text-body-12">Написать наставнику</app-button>
        </a>
      </div>

      <div class="trajectory__description">
        @if (trajectory.description) {
        <div class="text-body-14 about__text">
          <p #descEl [innerHTML]="trajectory.description | parseLinks | parseBreaks"></p>
          @if (descriptionExpandable) {
          <div
            class="read-more"
            (click)="onExpandDescription(descEl, 'expanded', readFullDescription)"
          >
            {{ readFullDescription ? "Скрыть" : "Читать полностью" }}
          </div>
          }
        </div>
        }
      </div>

      <div class="trajectory__info--additional">
        <div
          class="info__additional"
          [ngStyle]="{
            backgroundColor: userTrajectory.firstMeetingDone ? 'var(--green)' : 'var(--grey-button)'
          }"
        >
          <p
            [ngStyle]="{
              color: userTrajectory.firstMeetingDone ? 'var(--white)' : 'var(--dark-grey)'
            }"
            class="text-body-12"
          >
            Начальная встреча с наставником
          </p>
          <i
            appIcon
            appSquare="15"
            icon="check"
            [ngStyle]="{
              color: userTrajectory.firstMeetingDone ? 'var(--white)' : 'var(--dark-grey)'
            }"
          ></i>
        </div>

        <div
          class="info__additional"
          [ngStyle]="{
            backgroundColor: userTrajectory.finalMeetingDone ? 'var(--green)' : 'var(--grey-button)'
          }"
        >
          <p
            [ngStyle]="{
              color: userTrajectory.finalMeetingDone ? 'var(--white)' : 'var(--dark-grey)'
            }"
            class="text-body-12"
          >
            Финальная встреча с наставником
          </p>
          <i
            appIcon
            appSquare="15"
            icon="check"
            [ngStyle]="{
              color: userTrajectory.finalMeetingDone ? 'var(--white)' : 'var(--dark-grey)'
            }"
          ></i>
        </div>
      </div>
    </div>
  </div>

  <div class="skills">
    <h4 class="text-heading-4">Навыки текущего месяца</h4>
    <!-- <div class="skills__now">
      @if (trajectorySkills.availableSkills) { @for(skill of trajectorySkills.availableSkills; track
      $index) {
      <app-skill-card [skill]="skill"></app-skill-card>
      } }
    </div>

    <h4 class="text-heading-4">Грядущие навыки</h4>
    <div class="skills__future">
      @if (trajectorySkills.unavailableSkills) { @for(skill of trajectorySkills.unavailableSkills;
      track $index) {
      <app-skill-card [skill]="skill"></app-skill-card>
      } }
    </div> -->

    <!-- <h4 class="text-heading-4">Пройденные навыки</h4>
    <div class="skills__past">
      <app-skill-card [skill]="skill"></app-skill-card>
    </div> -->
  </div>
</div>
