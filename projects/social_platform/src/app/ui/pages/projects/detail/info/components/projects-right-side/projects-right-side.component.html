<!-- @format -->

<div class="project__right">
  <aside class="project__aside">
    @if (project()!.links.length) {
    <div class="lists project__section">
      <div class="lists__section">
        <h3 class="text-body-12 lists__title">контакты</h3>
        <i appIcon icon="phone" class="lists__icon" appSquare="12"></i>
      </div>

      <ul class="lists__list">
        @for (link of project()!.links; track $index) {
        <li class="lists__item text-body-10">
          @if (link | userLinks; as l) {
          <a class="lists__item" target="_blank" [href]="link">
            <i class="lists__icon" appIcon [icon]="l.iconName" appSquare="10"></i>
            <span>{{ l.tag | truncate: 20 }}</span>
          </a>
          }
        </li>
        }
      </ul>
    </div>
    } @if (project()!.resources.length) {
    <div class="lists project__section">
      <div class="lists__section">
        <h3 class="text-body-12 lists__title">в поиске</h3>
        <i appIcon icon="in-search" class="lists__icon" appSquare="12"></i>
      </div>

      @if (project()!.resources; as resources) {
      <ul class="lists__list">
        @for (resourceItem of resources; track $index) { @switch (resourceItem.type) { @case
        ("infrastructure") {
        <li class="lists__item text-body-10">
          <i appIcon icon="in-search" class="lists__icon" appSquare="10"></i>
          <p class="text-body-10">{{ resourceItem.description | truncate: 20 }}</p>
        </li>
        } @case ("staff") {
        <li class="lists__item text-body-10">
          <i appIcon icon="person" class="lists__icon" appSquare="10"></i>
          <p class="text-body-10">{{ resourceItem.description | truncate: 20 }}</p>
        </li>
        } @case ("financial") {
        <li class="lists__item text-body-10">
          <i appIcon icon="contacts" class="lists__icon" appSquare="10"></i>
          <p class="text-body-10">{{ resourceItem.description | truncate: 20 }}</p>
        </li>
        } @case ("information") {
        <li class="lists__item text-body-10">
          <i appIcon icon="feed" class="lists__icon" appSquare="10"></i>
          <p class="text-body-10">{{ resourceItem.description | truncate: 20 }}</p>
        </li>
        } } }
      </ul>
      }
    </div>
    } @if (project()!.achievements.length) {
    <div class="lists project__section">
      <div class="lists__section">
        <h3 class="text-body-12 lists__title">достижения</h3>
        <i appIcon icon="medal" class="lists__icon" appSquare="12"></i>
      </div>

      @if (project()!.achievements; as achievements) { @if (achievements) {
      <ul class="lists__list">
        @for (a of achievements.slice(0, 3); track a.id) {
        <li class="lists__item text-body-10" style="gap: 10px">
          <p class="lists__item--status">{{ a.status | truncate: 20 }}</p>
          <p class="lists__item--title">{{ a.title | truncate: 20 }}</p>
        </li>
        }
      </ul>
      }
      <div class="lists__remaining" [class.lists__remaining--show]="readAllAchievements()">
        @if (achievements) {
        <ul class="lists__list">
          @for (a of achievements.slice(3); track a.id) {
          <li class="lists__item text-body-10">
            <p class="lists__item--status">{{ a.status | truncate: 20 }}</p>
            <p class="lists__item--title">{{ a.title | truncate: 20 }}</p>
          </li>
          }
        </ul>
        }
      </div>
      } @if (project()!.achievements.length > 3) {
      <div class="read-more text-body-10" (click)="readAllAchievements.set(!readAllAchievements())">
        {{ readAllAchievements() ? "скрыть" : "подробнее" }}
      </div>
      }
    </div>
    }
  </aside>
</div>
