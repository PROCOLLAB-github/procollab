/** @format */

/**
 * Модель плана подписки
 *
 * Представляет отдельный план подписки с его характеристиками и состоянием
 * Используется для отображения доступных планов и управления подписками
 */
export interface SubscriptionPlan {
  /** Уникальный идентификатор плана */
  id: number;

  /** Название плана (например, "Базовый", "Премиум", "Профессиональный") */
  name: string;

  /** Стоимость подписки (в рублях или другой валюте) */
  price: number;

  /** Список возможностей/функций, включенных в план */
  featuresList: string[];

  /** Флаг активности плана (используется ли план в данный момент пользователем) */
  active: boolean;

  /** Флаг доступности плана для покупки (может ли пользователь купить этот план) */
  available: boolean;
}

/**
 * Модель данных о подписке пользователя
 *
 * Содержит полную информацию о текущем состоянии подписки пользователя,
 * включая историю и настройки автоплатежей
 */
export interface SubscriptionData {
  /** Флаг наличия активной подписки у пользователя */
  isSubscribed: boolean;

  /**
   * Информация о последнем типе подписки
   * null если пользователь никогда не имел подписки
   */
  lastSubscriptionType: null | SubscriptionPlan;

  /**
   * Дата начала последней подписки в ISO формате
   * Используется для отображения истории подписок
   */
  lastSubscriptionDate: string;

  /**
   * Дата окончания подписки в ISO формате
   * Показывает когда истекает или истекла подписка
   */
  subscriptionDateOver: string;

  /**
   * Флаг разрешения автоматических платежей
   * Определяет, будет ли подписка продлеваться автоматически
   */
  isAutopayAllowed: boolean;
}

/**
 * Модель статуса платежа
 *
 * Представляет информацию о платеже в платежной системе (например, ЮKassa)
 * Используется для отслеживания состояния оплаты подписки
 */
export interface PaymentStatus {
  /** Уникальный идентификатор платежа в платежной системе */
  id: string;

  /**
   * Статус платежа (например, "pending", "succeeded", "canceled")
   * Определяет текущее состояние платежа
   */
  status: string;

  /** Информация о сумме платежа */
  amount: {
    /** Валюта платежа (например, "RUB") */
    currency: string;
    /** Сумма в строковом формате (например, "1000.00") */
    value: string;
  };

  /** Дата и время создания платежа в ISO 8601 формате */
  createdAt: string;

  /** Информация для подтверждения платежа */
  confirmation: {
    /** URL для перенаправления пользователя на страницу оплаты */
    confirmationUrl: string;
    /** Тип подтверждения (например, "redirect") */
    type: string;
  };

  /** Флаг успешной оплаты */
  paid: boolean;

  /** Флаг тестового платежа (для разработки и тестирования) */
  test: boolean;

  /** Дополнительные метаданные платежа */
  metadata: {
    /** ID профиля пользователя, связанного с платежом */
    userProfileId: string;
  };
}
