/** @format */

import { Pipe } from "@angular/core";

/**
 * Пайп для капитализации первой буквы строки
 *
 * Назначение:
 * - Преобразует первую букву строки в заглавную
 * - Оставляет остальные символы без изменений
 * - Полезен для форматирования имен, заголовков, начала предложений
 *
 * Применение:
 * - Форматирование имен пользователей
 * - Капитализация начала предложений
 * - Стандартизация отображения текста
 * - Обработка пользовательского ввода
 */
@Pipe({
  name: "capitalize",
  standalone: true,
})
export class CapitalizePipe {
  /**
   * Делает первую букву строки заглавной
   * @param value - Исходная строка для обработки
   * @returns Строка с заглавной первой буквой
   *
   * Алгоритм:
   * 1. Берет первый символ строки и преобразует в верхний регистр
   * 2. Добавляет остальную часть строки начиная со второго символа
   * 3. Если строка пустая, возвращает пустую строку
   *
   * Примеры использования в шаблонах:
   *
   * <!-- Форматирование имени -->
   * <span>{{ user.firstName | capitalize }}</span>
   *
   * <!-- В списке -->
   * <li *ngFor="let item of items">
   *   {{ item.name | capitalize }}
   * </li>
   *
   * <!-- Заголовки -->
   * <h3>{{ section.title | capitalize }}</h3>
   *
   * Примеры результатов:
   * - "john" → "John"
   * - "MARY" → "MARY" (остальные буквы не изменяются)
   * - "hello world" → "Hello world"
   * - "123abc" → "123abc" (цифра остается цифрой)
   * - "" → "" (пустая строка)
   * - "a" → "A" (одна буква)
   *
   * Особенности:
   * - Не изменяет регистр остальных символов
   * - Работает с любыми символами (буквы, цифры, знаки)
   * - Безопасно обрабатывает пустые строки
   * - Не выполняет проверку на тип данных (ожидает строку)
   */
  transform(value: string): string {
    // Берем первый символ и делаем заглавным + остальная часть строки
    return value.charAt(0).toUpperCase() + value.slice(1);
  }
}
