<!-- @format -->

<div class="file" [class.file--loading]="loading" [class.file--error]="error">
  <ng-container *ngIf="!error">
    <div class="file__icon">
      <i *ngIf="type" appIcon [icon]="'file_' + (type | fileType)" appSquare="32"></i>
    </div>
    <div class="file__info">
      <div class="file__name text-bold-body-14">
        {{ name }}
      </div>
      <div class="file__meta text-body-14">
        {{ type | uppercase }} {{ getFormattedFileSize(size) }}
      </div>
    </div>
  </ng-container>
  <div *ngIf="error" class="file__error">
    <i appIcon icon="color-error" appSquare="20"></i>
    <span class="text-body-12">{{ error }}</span>
  </div>
  <app-loader
    *ngIf="loading && !error"
    class="file__right"
    type="circle"
    size="40px"
    color="accent"
  ></app-loader>
  <div *ngIf="!loading && !error" class="file__right">
    <i appIcon icon="basket" appSquare="25" (click)="delete.emit()"></i>
  </div>
  <i
    *ngIf="error"
    appIcon
    icon="reload"
    appSquare="25"
    class="file__right"
    (click)="retry.emit()"
  ></i>
</div>
