<!-- @format -->

<form class="auth set-password" [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
  <div class="auth__wrapper">
    <h1 class="auth__title">Новый пароль</h1>
    <p class="text-body-16 set-password__text">Введите новый пароль</p>
    <fieldset *ngIf="passwordForm.get('password') as password" class="auth__field">
      <app-input
        class="set-password__password"
        [error]="password | controlError"
        id="password"
        type="text"
        formControlName="password"
        placeholder="Пароль"
      ></app-input>
      <div *ngIf="password | controlError: 'required'" class="text-body-14 error">
        {{ errorMessage.VALIDATION_REQUIRED }}
      </div>
      <div *ngIf="password | controlError: 'minlength'" class="text-body-14 error">
        {{ errorMessage.VALIDATION_TOO_SHORT }} {{ password.errors?.minlength.requiredLength }}
      </div>
    </fieldset>
    <fieldset *ngIf="passwordForm.get('password') as passwordRepeated" class="auth__field">
      <app-input
        class="set-password__password"
        [error]="passwordRepeated | controlError"
        id="password_repeated"
        type="text"
        formControlName="passwordRepeated"
        placeholder="Пароль"
      ></app-input>
      <div *ngIf="passwordRepeated | controlError: 'required'" class="text-body-14 error">
        {{ errorMessage.VALIDATION_REQUIRED }}
      </div>
      <div *ngIf="passwordForm | controlError: 'unMatch'" class="text-body-14 error">
        {{ errorMessage.VALIDATION_PASSWORD_UNMATCH }}
      </div>
    </fieldset>
    <div *ngIf="errorRequest" class="text-body-14 error">
      {{ errorMessage.AUTH_WRONG_AUTH }}
    </div>
    <app-button [loader]="isSubmitting" class="auth__button" type="submit"> Готово </app-button>
  </div>
</form>
