<!-- @format -->

<form class="auth register" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <img class="auth__logo" src="/assets/images/shared/logo.svg" alt="procollab" width="125px" />
  <div class="auth__greeting">
    <h3 class="auth__title">
      –ü—Ä–∏–≤–µ—Ç! üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Procollab - –ø–ª–∞—Ç—Ñ–æ—Ä–º—É, –≥–¥–µ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ —Å—Ç–∞—Ä—Ç–∞–ø, —Å–æ–æ–±—â–Ω–∏–∫–æ–≤,
      –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤
    </h3>
    <p class="auth__info">
      –ó–∞–ø–æ–ª–Ω–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Å–µ–±–µ, —á—Ç–æ–±—ã —Ç—ã –º–æ–≥ –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç, –∏ –º—ã –∑–Ω–∞–ª–∏, –∫–∞–∫ –∫ —Ç–µ–±–µ
      –æ–±—Ä–∞—â–∞—Ç—å—Å—è
    </p>
  </div>
  <div class="auth__wrapper">
    <div class="auth__row">
      <fieldset *ngIf="registerForm.get('firstName') as name" class="auth__field">
        <label for="name" class="field-label">–ò–º—è</label>
        <app-input
          [error]="name | controlError"
          id="name"
          type="text"
          formControlName="firstName"
          placeholder="–ò–≤–∞–Ω"
        ></app-input>
        <div *ngIf="name | controlError: 'required'" class="text-body-14 error">
          {{ errorMessage.VALIDATION_REQUIRED }}
        </div>
      </fieldset>
      <fieldset *ngIf="registerForm.get('lastName') as surname" class="auth__field">
        <label for="surname" class="field-label">–§–∞–º–∏–ª–∏—è</label>
        <app-input
          [error]="surname | controlError"
          id="surname"
          type="text"
          formControlName="lastName"
          placeholder="–ò–≤–∞–Ω–æ–≤"
        ></app-input>
        <div *ngIf="surname | controlError: 'required'" class="text-body-14 error">
          {{ errorMessage.VALIDATION_REQUIRED }}
        </div>
      </fieldset>
    </div>
    <div class="auth__row">
      <fieldset *ngIf="registerForm.get('userType') as userType">
        <label for="userType" class="field-label">–¢–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞</label>
        <app-select
          *ngIf="roles$ | async as options"
          id="userType"
          formControlName="userType"
          placeholder="–£—á–µ–Ω–∏–∫"
          [options]="options"
        ></app-select>
        <div *ngIf="userType | controlError: 'required'" class="text-body-14 error">
          {{ errorMessage.VALIDATION_REQUIRED }}
        </div>
      </fieldset>
      <fieldset *ngIf="registerForm.get('birthday') as birthday">
        <label for="birthday" class="field-label">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
        <app-input
          id="birthday"
          [error]="birthday | controlError"
          type="text"
          mask="00.00.0000"
          placeholder="–î–î.–ú–ú.–ì–ì–ì–ì"
          formControlName="birthday"
        ></app-input>
        <div *ngIf="birthday | controlError: 'required'" class="text-body-14 error">
          {{ errorMessage.VALIDATION_REQUIRED }}
        </div>
        <div *ngIf="birthday | controlError: 'tooYoung'" class="text-body-14 error">
          {{ errorMessage.MINIMAL_AGE }} {{ birthday.errors?.tooYoung.requiredAge }} –ª–µ—Ç
        </div>
        <div *ngIf="birthday | controlError: 'invalidDateFormat'" class="text-body-14 error">
          {{ errorMessage.INVALID_DATE }}
        </div>
      </fieldset>
    </div>
    <fieldset *ngIf="registerForm.get('email') as email" class="auth__field">
      <label for="email" class="field-label">–ü–æ—á—Ç–∞</label>
      <app-input
        [error]="email | controlError"
        id="email"
        type="email"
        formControlName="email"
        placeholder="mail@example.ru"
      ></app-input>
      <div *ngIf="email | controlError: 'required'" class="text-body-14 error">
        {{ errorMessage.VALIDATION_REQUIRED }}
      </div>
      <div *ngIf="email | controlError: 'email'" class="text-body-14 error">
        {{ errorMessage.VALIDATION_EMAIL }}
      </div>
    </fieldset>
    <fieldset *ngIf="registerForm.get('password') as password" class="auth__field">
      <label for="passowrd" class="field-label">–ü–∞—Ä–æ–ª—å</label>
      <app-input
        [error]="password | controlError"
        id="passowrd"
        type="password"
        formControlName="password"
        placeholder="–ü—Ä–∏–¥—É–º–∞–π –ø–∞—Ä–æ–ª—å"
      ></app-input>
      <app-input
        class="register__repeated-password"
        [error]="password | controlError"
        id="repeatedPassword"
        type="password"
        formControlName="repeatedPassword"
        placeholder="–ü–æ–≤—Ç–æ—Ä–∏ –ø–∞—Ä–æ–ª—å"
      ></app-input>
      <div *ngIf="password | controlError: 'required'" class="text-body-14 error">
        {{ errorMessage.VALIDATION_REQUIRED }}
      </div>
      <div *ngIf="password | controlError: 'minlength'" class="text-body-14 error">
        {{ errorMessage.VALIDATION_TOO_SHORT }} {{ password.errors?.minlength.requiredLength }}
      </div>
      <div *ngIf="registerForm | controlError: 'unMatch'" class="text-body-14 error">
        {{ errorMessage.VALIDATION_PASSWORD_UNMATCH }}
      </div>
    </fieldset>
    <div *ngIf="userExistError" class="text-body-14 error">
      {{ errorMessage.AUTH_EMAIL_EXIST }}
    </div>
    <div class="register__agreement">
      <app-checkbox [(checked)]="registerAgreement"></app-checkbox>
      <span class="text-body-14" (click)="registerAgreement = !registerAgreement">
        –Ø –æ–∑–Ω–∞–∫–æ–º–∏–ª—Å—è —Å —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ–º –∏ –¥–∞—é
        <a href="/assets/downloads/auth/shared/–ü–æ–ª–∏—Ç–∏–∫–∞_–æ–±—Ä–∞–±–æ—Ç–∫–∏_–ø–µ—Ä—Å_–¥–∞–Ω–Ω—ã—Ö_2022.docx" download>
          —Å–æ–≥–ª–∞—Å–∏–µ
        </a>
        –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
      </span>
    </div>
    <app-button [loader]="registerIsSubmitting" type="submit" class="auth__button">
      –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç
    </app-button>
    <p class="auth__toggle text-body-16">–ï—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a routerLink="/auth/login">–í–æ–π–¥–∏—Ç–µ</a></p>
  </div>
</form>
